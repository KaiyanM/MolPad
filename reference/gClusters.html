<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="gClusters() returns the clusters generated by k-means and yield
an elbow plot as a way of finding the optimal parameter."><title>Generate clusters — gClusters • MolPad</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate clusters — gClusters"><meta property="og:description" content="gClusters() returns the clusters generated by k-means and yield
an elbow plot as a way of finding the optimal parameter."><meta property="og:image" content="https://kaiyanm.github.io/MolPad/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">MolPad</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/FAQ.html">FAQ</a>
    <a class="dropdown-item" href="../articles/cheese.html">Case Study: Cheese</a>
    <a class="dropdown-item" href="../articles/data_input.html">Data Input</a>
    <a class="dropdown-item" href="../articles/navigate.html">Navigating the Network</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Generate clusters</h1>
      
      <div class="d-none name"><code>gClusters.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>gClusters()</code> returns the clusters generated by k-means and yield
an elbow plot as a way of finding the optimal parameter.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">gClusters</span><span class="op">(</span><span class="va">data</span>, ncluster <span class="op">=</span> <span class="fl">20</span>, elbow.max <span class="op">=</span> <span class="fl">50</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>data</dt>
<dd><p>A data frame. See also <code><a href="pre_process.html">pre_process()</a></code>.</p></dd>


<dt>ncluster</dt>
<dd><p>A number of clusters.</p></dd>


<dt>elbow.max</dt>
<dd><p>A number of the maximum value of x-axis. It should be larger
than the expected <code>ncluster</code> and smaller than the sample size.</p></dd>


<dt>iter.max</dt>
<dd><p>A number of the maximum iterations allowed in k-means.</p></dd>


<dt>nstart</dt>
<dd><p>A number of random attempts of generating initial
configurations. The k-means algorithm will choose the best one among these
attempts. For larger data, 'nstart' can be set lower or just set to 1.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A list of 2:</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>To determine the optimal number of clusters (<code>ncluster</code>), it is advised to closely examine the elbow plot and identify the point on the graph where a substantial change or 'elbow' occurs. This is often indicative of the most suitable cluster count.
In cases where your dataset is extensive or intricate, you might consider increasing the value of <code>elbow.max</code> to ensure a more comprehensive exploration of potential cluster counts. This can help in achieving more accurate and meaningful results, especially when working with larger or more complex datasets.""This function can be executed with only the <code>data</code> parameter at the outset. However, to achieve the best clustering results, further adjustments are recommended. After the initial run, users are expected to adjust the function's parameters based on the clustering outcomes and the elbow plot analysis.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">test_data</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">reslist</span> <span class="op">&lt;-</span> <span class="fu">gClusters</span><span class="op">(</span><span class="va">test_data_processed</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># k-means result</span></span></span>
<span class="r-in"><span><span class="va">reslist</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> K-means clustering with 20 clusters of sizes 2, 6, 5, 6, 8, 4, 11, 3, 6, 4, 5, 3, 1, 3, 2, 4, 10, 4, 10, 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Cluster means:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            T1          T2          T3         T4         T5         T6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   2.1235865  1.05868538 -0.39467611  0.1315587 -0.1315587  0.3946761</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   2.0919348 -0.33320285 -0.50786563 -0.5579659 -0.5579659  1.5455977</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   0.6543174 -0.06991189  0.32724119  0.2386101  1.1603437  1.4951461</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   1.0305038 -0.62595927  0.30371539  1.0821972  1.2374965 -1.0856661</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   0.1155971 -0.19000668 -0.25629794 -0.1487697 -0.4383348  2.5830148</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   1.5328465 -0.58499482 -0.58499482 -0.9095554 -0.5028108  1.1583662</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   2.5784883 -0.02446156 -0.60355041 -0.2547486 -0.5120230 -0.3947043</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   0.9922755  0.32399254 -0.94565021 -0.7125240 -0.5104935 -0.9456502</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   1.2574004 -0.64914997 -0.87502695  0.9353966  0.4760273  1.2681050</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10  0.3381410  1.48152270  0.43414431  0.7473132  0.8107827 -0.5234016</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 -0.8135539 -0.84696982 -0.32573017  1.1218534  2.0955812 -0.5620731</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12  1.7947637 -0.47746004 -0.52783931 -0.7635958 -0.7635958 -0.6438957</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 -0.2248595 -1.12429753  1.57401655  0.2248595  0.6745785  0.6745785</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14  0.1167305 -0.74274848 -0.57966646 -0.7616172 -0.9246992  1.1204228</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15 -0.2784769 -0.82258408 -0.82258408 -0.8225841  1.2338761 -0.8225841</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16  1.4517382  0.26236463  1.31600581 -0.2531012  0.2004547 -1.1238942</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17 -0.1902008 -0.69654961 -0.66836949 -0.4657663 -0.3851487 -0.5590421</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18  0.1072572 -0.47826363 -0.91867880 -0.9186788 -0.6915103  1.9388861</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19 -0.2771534 -0.39760069 -0.06466866  1.3995407  2.1316423 -0.2806884</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20  0.2699801 -0.08094677 -0.28926312 -0.7813127 -0.6065051 -0.1494523</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              T7           T8          T9          T10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  -0.795567972 -0.795567972 -0.79556797 -0.795567972</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  -0.425513174 -0.557965933 -0.30571480 -0.391338269</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  -0.892735465 -0.964398012 -0.91255251 -1.036060559</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  -1.182978501 -0.350257808 -0.28824705 -0.120804201</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  -0.006327004 -0.327677972 -0.66559889 -0.665598891</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   1.079820690 -0.097233460 -0.38162251 -0.709821567</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  -0.526022073 -0.185303954 -0.06989626 -0.007778173</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  -0.945650212  0.121962031  1.19430596  1.427432164</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  -0.354972016 -0.601904415 -0.82778139 -0.628094550</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 -1.000948275 -0.369116018 -0.95921900 -0.959219004</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 -0.651292750 -0.498839228  0.42446013  0.056564270</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 -0.260645101  0.389799714 -0.08327821  1.335746686</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 -1.574016547  0.224859507  0.67457852 -1.124297533</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14 -0.397715702 -0.416584445  1.46545554  1.120422759</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15 -0.822584085  1.233876127  1.23387613  0.689768939</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16 -0.987867401 -0.340013670 -0.33085684 -0.194830041</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17 -0.566522777  0.002653353  1.73917982  1.789766618</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18  0.837919271 -0.199346879  0.05110412  0.271311706</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19 -0.548494719 -0.646992821 -0.66392148 -0.651662789</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20 -0.763902351 -0.412975440  0.39220455  2.422173070</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Clustering vector:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18  19  20 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  17   2  15  10   3  17  18   1  19  11   4  20  12   7   4  11   5  17  16   7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  21  22  23  24  25  26  27  28  29  30  31  32  33  34  35  36  37  38  39  40 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   9  17   5   2   7  11   9   7   5  19   6  19  10  15  19   3   4   8  17  10 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  41  42  43  44  45  46  47  48  49  50  51  52  53  54  55  56  57  58  59  60 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5   2  17  17   9  17   5   3   2   5  12   6  18   8   5   6  18  19   7  19 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  61  62  63  64  65  66  67  68  69  70  71  72  73  74  75  76  77  78  79  80 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4   3   9   8  13   2   7   9  16  16  20  11   5   1  20  19  10  19   4   9 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  81  82  83  84  85  86  87  88  89  90  91  92  93  94  95  96  97  98  99 100 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4  14  12  18  14   2  16   7  14   7  19   6  19   7  17   3  11   7  17   7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Within cluster sum of squares by cluster:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  0.9833964  3.0260293  5.9394323 11.7178543  8.0412334  6.8762885</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] 13.0645655  2.9416715 11.7251902  8.1365152  3.4617088  5.0413438</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13]  0.0000000  5.0207441  0.9921913  9.9418120  8.0515257  8.0651309</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [19]  5.9461649  3.1842269</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  (between_SS / total_SS =  84.3 %)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Available components:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "cluster"      "centers"      "totss"        "withinss"     "tot.withinss"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6] "betweenss"    "size"         "iter"         "ifault"      </span>
<span class="r-in"><span><span class="co"># elbow plot</span></span></span>
<span class="r-in"><span><span class="va">reslist</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-plt img"><img src="gClusters-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Kaiyan Ma.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

